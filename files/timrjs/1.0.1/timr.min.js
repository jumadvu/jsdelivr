/* TimrJS v1.0.0 | (c) 2016 Joe Smith | https://github.com/joesmith100/timrjs */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Timr",[],e):"object"==typeof exports?exports.Timr=e():t.Timr=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}([function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}var i=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(t,e){for(var n,o,s=r(t),a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var c in n)i.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(n);for(var f=0;f<o.length;f++)u.call(n,o[f])&&(s[o[f]]=n[o[f]])}}return s}},function(t,e,n){"use strict";function r(t,e){c.a.call(this),this.timer=null,this.setStartTime(t),this.changeOptions(e)}function o(t){return function(e){if("function"!=typeof e)throw new Error("Expected "+t+" to be a function, instead got: "+("undefined"==typeof e?"undefined":p(e)));return this.on(t,e),this}}function i(){this.currentTime-=1,this.emit("ticker",a()(this.formatTime(),{percentDone:this.percentDone(),currentTime:this.currentTime,startTime:this.startTime,self:this})),this.currentTime<=0&&(this.stop(),this.emit("finish",this))}function u(){this.currentTime+=1,this.emit("ticker",a()(this.formatTime(),{currentTime:this.currentTime,startTime:this.startTime,self:this}))}var s=n(0),a=n.n(s),c=n(7),f=n(5),m=n(4),l=n(2),h=n(8),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.prototype=a()(Object.create(c.a.prototype),{constructor:r,start:function(t){var e=this;if(this.running&&"undefined"!=typeof console&&"function"==typeof console.warn)console.warn("Timer already running",this);else{var n=function(){e.originalDate&&e.setStartTime(e.originalDate),e.running=!0,e.timer=e.options.countdown?setInterval(i.bind(e),1e3):setInterval(u.bind(e),1e3)};t?this.delayTimer=setTimeout(n,t):n(),this.emit("onStart",this)}return this},pause:function(){return this.clear(),this.emit("onPause",this),this},stop:function(){return this.clear(),this.currentTime=this.startTime,this.emit("onStop",this),this},clear:function(){return clearInterval(this.timer),clearTimeout(this.delayTimer),this.running=!1,this},destroy:function(){return this.emit("onDestroy",this),this.clear().removeAllListeners(),"function"==typeof this.removeFromStore&&this.removeFromStore(),this},ticker:o("ticker"),finish:o("finish"),onStart:o("onStart"),onPause:o("onPause"),onStop:o("onStop"),onDestroy:o("onDestroy"),formatTime:function(){var t=arguments.length<=0||void 0===arguments[0]?"currentTime":arguments[0];return n.i(l.a)(this[t],this.options)},percentDone:function(){return 100-Math.round(this.currentTime/this.startTime*100)},changeOptions:function(t){var e=this.startTime>0?t:a()({},t,{countdown:!1});return this.options=n.i(f.a)(e,this.options),this},setStartTime:function(t){this.clear();var e=0;if(t){var r=n.i(h.a)(t);"object"===("undefined"==typeof r?"undefined":p(r))&&r.parsed?(this.originalDate=r.originalDate,e=r.parsed):(this.originalDate=!1,e=r)}return!e&&this.options&&this.changeOptions({countdown:!1}),this.startTime=this.currentTime=n.i(m.a)(e),this},getFt:function(){var t=arguments.length<=0||void 0===arguments[0]?"currentTime":arguments[0];return this.formatTime(t).formattedTime},getRaw:function(){var t=arguments.length<=0||void 0===arguments[0]?"currentTime":arguments[0];return this.formatTime(t).raw},getStartTime:function(){return this.startTime},getCurrentTime:function(){return this.currentTime},isRunning:function(){return this.running}}),e.a=r},function(t,e,n){"use strict";function r(t,e){var r=n.i(o.a)(e),u=r.formatOutput,s=r.padRaw,a=t,c=Math.floor(a/60),f=c&&Math.floor(c/60),m=f&&Math.floor(f/24),l=c?a-60*c:a,h=f?c-60*f:c,p=m?f-24*m:f,d=m,y=u,g=y.lastIndexOf("{")+1,b=y.indexOf("}"),v=y.slice(g,b).match(/(DD)?(HH)?(MM)?(SS)?/gi).filter(function(t){return!!t});if(v.length>0){var T=void 0;m>0?T="DD":f>0?T="HH":c>0?T="MM":a>=0&&(T="SS");var S=y.search(new RegExp(T,"ig")),w=S>=g?g:S;y=y.slice(w>=0?w:0)}var O=y.replace(/\{?\}?/g,"").replace(/DD/g,m).replace(/HH/g,i(f)).replace(/MM/g,i(c)).replace(/SS/g,i(a)).replace(/dd/g,d).replace(/hh/g,i(p)).replace(/mm/g,i(h)).replace(/ss/g,i(l));return{formattedTime:O,raw:{totalDays:s?i(m):m,totalHours:s?i(f):f,totalMinutes:s?i(c):c,totalSeconds:s?i(a):a,currentDays:s?i(d):d,currentHours:s?i(p):p,currentMinutes:s?i(h):h,currentSeconds:s?i(l):l}}}var o=n(5);e.a=r;var i=function(t){return t<10?"0"+t:""+t}},function(t,e,n){"use strict";function r(t){return"number"!=typeof t||isNaN(t)?Math.round(t.split(":").reduce(function(t,e,n,r){if(3===r.length){if(0===n)return t+60*Number(e)*60;if(1===n)return t+60*Number(e)}return 2===r.length&&0===n?t+60*Number(e):t+Number(e)},0)):Math.round(t)}e.a=r},function(t,e,n){"use strict";function r(t){var e=t;if(/^\d+[mh]$/i.test(e)&&(e=e.replace(/^(\d+)m$/i,"$1:00"),e=e.replace(/^(\d+)h$/i,"$1:00:00")),"string"!=typeof e&&("number"!=typeof e||isNaN(e)||e===1/0||e===-(1/0)))throw new Error("Expected time to be a string or number, instead got: "+("number"==typeof e||null===e?e:"undefined"==typeof e?"undefined":i(e)));if("string"==typeof e&&isNaN(Number(e))&&!/^\d+$/.test(e)&&!/^\d+:\d+$/.test(e)&&!/^\d+:\d+:\d+$/.test(e))throw new Error("Expected time to be in (hh:mm:ss) format, instead got: "+e);if(Number(e)<0)throw new Error("Time cannot be a negative number, got: "+e);return n.i(o.a)(e)}var o=n(3);e.a=r;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}},function(t,e,n){"use strict";function r(t,e){if(t){var n=t.formatOutput,r=t.padRaw,o=t.countdown;if(n&&"string"!=typeof n)throw new Error("Expected formatOutput to be a string; instead got: "+("undefined"==typeof n?"undefined":u(n)));if(r&&"boolean"!=typeof r)throw new Error("Expected padRaw to be a boolean; instead got: "+("undefined"==typeof r?"undefined":u(r)));if(o&&"boolean"!=typeof o)throw new Error("Expected countdown to be a boolean; instead got: "+("undefined"==typeof o?"undefined":u(o)))}var s={formatOutput:"DD hh:{mm:ss}",padRaw:!0,countdown:!0};return i()(e||s,t)}var o=n(0),i=n.n(o);e.a=r;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}},function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return Array.isArray(e)?t.concat(r(e)):t.concat(e)},[])}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=r(e).filter(function(t){return t instanceof i.a}).filter(function(t){return"function"!=typeof t.removeFromStore}),u=function(t){t instanceof i.a&&(o=o.filter(function(e){return e!==t}),t.removeFromStore=null)};return o.forEach(function(t){t.removeFromStore=function(){u(t)}}),{add:function(t){if(!(t instanceof i.a&&"function"!=typeof t.removeFromStore))throw new Error("Unable to add to store; provided argument is either already in a store or not a timr object.");return o.push(t),t.removeFromStore=function(){u(t)},t},getAll:function(){return o},startAll:function(){return o.forEach(function(t){return t.start()})},pauseAll:function(){return o.forEach(function(t){return t.pause()})},stopAll:function(){return o.forEach(function(t){return t.stop()})},isRunning:function(){return o.filter(function(t){return t.isRunning()})},removeFromStore:u,destroyAll:function(){o.forEach(function(t){return t.destroy()}),o=[]}}}var i=n(1);e.a=o},function(t,e,n){"use strict";function r(){this.events={}}r.prototype={constructor:r,on:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},emit:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.events[t]&&this.events[t].forEach(function(t){t.apply(e,r)})},removeAllListeners:function(){this.events={}}},e.a=r},function(t,e,n){"use strict";function r(t){if(/^(\d{4}-\d{2}-\d{2})?(T\d{2}:\d{2}(:\d{2})?)?(([-+]\d{2}:\d{2})?Z?)?$/i.test(t)||t>=63072e6){var e=new Date,n=t;/^(\d{4}-\d{2}-\d{2})$/i.test(n)&&(n+="T00:00");var r=new Date(n).getTime(),i=Math.ceil((r-e.getTime())/1e3);if(isNaN(r))throw new Error("The date/time you passed does not match ISO format. "+('You passed: "'+t+'".'));if(i<0)throw new Error("When passing a date/time, it cannot be in the past. "+('You passed: "'+t+"\". It's currently: ")+('"'+o(e.getFullYear())+"-"+(o(e.getMonth())+1)+"-")+(o(e.getDate())+" ")+(o(e.getHours())+":"+o(e.getMinutes())+":")+(o(e.getSeconds())+'"'));return{originalDate:t,parsed:i}}return t}e.a=r;var o=function(t){return t<10?"0"+t:t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n.n(r),i=n(4),u=n(2),s=n(3),a=n(6),c=n(1),f=o()(function(t,e){return new c.a(t,e)},{validateStartTime:i.a,formatTime:u.a,timeToSeconds:s.a,createStore:a.a});t.exports=f}])});