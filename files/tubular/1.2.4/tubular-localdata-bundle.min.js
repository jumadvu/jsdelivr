(function(n){"use strict";function t(){function t(t){if(t.indexOf("data:")!==0)return null;var i=t.substr(29);return i=atob(i),n.fromJson(i)}return{getFromUrl:t}}n.module("tubular.services").factory("tubularLocalDataBase64",t);t.$inject=[]})(angular),function(n){"use strict";n.module("tubular.services").factory("tubularLocalDataPager",["filterFilter","orderByFilter",function(t,i){function f(n,t){if(t.length===0)return r();var i=t,u=n.data;return i=e(u,i),i=s(u,i),i=o(u,i),h(u,i)}function e(n,t){var r=n.Columns.filter(function(n){return n.SortOrder>0}).map(function(n){return(n.SortDirection==="Descending"?"-":"")+n.Name});for(var u in r)r.hasOwnProperty(u)&&(t=i(t,r[u]));return t}function o(i,r){if(i.Search&&i.Search.Operator==="Auto"&&i.Search.Text){var f=i.Columns.filter(function(n){return n.Searchable}).map(function(n){var t={};return t[n.Name]=i.Search.Text,t});if(f.length>0)return t(r,function(t){var r=u(f),i=!1;return n.forEach(r,function(n,r){t[r]&&t[r].toLocaleLowerCase().indexOf(n)>=0&&(i=!0)}),i})}return r}function s(n,i){var r=n.Columns.filter(function(n){return n.Filter&&n.Filter.Text}).map(function(n){var t={};return n.Filter.Operator==="Contains"&&(t[n.Name]=n.Filter.Text),t});return r.length>0?t(i,u(r)):i}function h(n,t){var i=r(),u,f;i.FilteredRecordCount=t.length;i.TotalRecordCount=t.length;i.Payload=t.slice(n.Skip,n.Take+n.Skip);i.TotalPages=(i.FilteredRecordCount+n.Take-1)/n.Take;i.TotalPages>0&&(u=Math.pow(10,0),f=1+n.Skip/i.FilteredRecordCount*i.TotalPages,i.CurrentPage=(f*u||0)/u,i.CurrentPage<1&&(i.CurrentPage=1))}function r(){return{Counter:0,CurrentPage:1,FilteredRecordCount:0,TotalRecordCount:0,Payload:[],TotalPages:0}}function u(n){var r={},t,i;for(t in n)if(n.hasOwnProperty(t))for(i in n[t])n[t].hasOwnProperty(i)&&(r[i]=n[t][i].toLocaleLowerCase());return r}return{page:f}}])}(angular),function(n){"use strict";n.module("tubular.services").factory("tubularLocalData",["tubularHttp","$q","$log","tubularLocalDataPager","tubularLocalDataBase64",function(n,t,i,r,u){function f(n){return n.requireAuthentication=!1,{promise:o(n),cancel:e}}function e(n){return i.info(n),t.resolve(n)}function o(n){return t.resolve(s(n)).then(function(t){return l(n,t)})}function s(n){return c(n)||h(n)}function h(t){return n.retrieveDataAsync(t).promise}function c(n){return u.getFromUrl(n.serverUrl)}function l(n,t){return r.page(n,t)}return{getByKey:n.getByKey,get:n.get,retrieveDataAsync:f}}])}(angular),function(n){"use strict";n.module("tubular.services").run(["tubularHttp","tubularLocalData",function(n,t){n.registerService("local",t)}])}(angular);