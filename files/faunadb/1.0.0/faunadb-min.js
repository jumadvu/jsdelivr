!function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){e.exports={Client:t("./src/Client"),Expr:t("./src/Expr"),PageHelper:t("./src/PageHelper"),RequestResult:t("./src/RequestResult"),clientLogger:t("./src/clientLogger"),errors:t("./src/errors"),values:t("./src/values"),query:t("./src/query")}},{"./src/Client":17,"./src/Expr":18,"./src/PageHelper":19,"./src/RequestResult":20,"./src/clientLogger":23,"./src/errors":24,"./src/query":25,"./src/values":26}],2:[function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,s,u,a=t.length;s=r(t),u=new l(3*a/4-s),i=s>0?a-4:a;var c=0;for(e=0,n=0;e<i;e+=4,n+=3)o=f[t.charCodeAt(e)]<<18|f[t.charCodeAt(e+1)]<<12|f[t.charCodeAt(e+2)]<<6|f[t.charCodeAt(e+3)],u[c++]=o>>16&255,u[c++]=o>>8&255,u[c++]=255&o;return 2===s?(o=f[t.charCodeAt(e)]<<2|f[t.charCodeAt(e+1)]>>4,u[c++]=255&o):1===s&&(o=f[t.charCodeAt(e)]<<10|f[t.charCodeAt(e+1)]<<4|f[t.charCodeAt(e+2)]>>2,u[c++]=o>>8&255,u[c++]=255&o),u}function s(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function u(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(s(r));return i.join("")}function a(t){for(var e,n=t.length,r=n%3,i="",o=[],s=0,a=n-r;s<a;s+=16383)o.push(u(t,s,s+16383>a?a:s+16383));return 1===r?(e=t[n-1],i+=c[e>>2],i+=c[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=c[e>>10],i+=c[e>>4&63],i+=c[e<<2&63],i+="="),o.push(i),o.join("")}n.byteLength=i,n.toByteArray=o,n.fromByteArray=a;for(var c=[],f=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=h.length;p<d;++p)c[p]=h[p],f[h.charCodeAt(p)]=p;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},{}],3:[function(t,e,n){e.exports=function(t){return btoa(t)}},{}],4:[function(t,e,n){function r(t){if(t)return i(t)}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}void 0!==e&&(e.exports=r),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],5:[function(t,e,n){(function(r,i){!function(t,r){"object"==typeof n&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.ES6Promise=r()}(this,function(){"use strict";function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function o(t){X=t}function s(t){G=t}function u(){return function(){B(c)}}function a(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<J;t+=2){(0,W[t])(W[t+1]),W[t]=void 0,W[t+1]=void 0}J=0}function f(t,e){var n=arguments,r=this,i=new this.constructor(h);void 0===i[tt]&&q(i);var o=r._state;return o?function(){var t=n[o-1];G(function(){return S(o,i,t,r._result)})}():O(r,i,t,e),i}function l(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(h);return b(n,t),n}function h(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function y(t){try{return t.then}catch(t){return it.error=t,it}}function v(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function m(t,e,n){G(function(t){var r=!1,i=v(n,e,function(n){r||(r=!0,e!==n?b(t,n):x(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,j(t,i))},t)}function w(t,e){e._state===nt?x(t,e._result):e._state===rt?j(t,e._result):O(e,void 0,function(e){return b(t,e)},function(e){return j(t,e)})}function g(t,e,r){e.constructor===t.constructor&&r===f&&e.constructor.resolve===l?w(t,e):r===it?j(t,it.error):void 0===r?x(t,e):n(r)?m(t,e,r):x(t,e)}function b(t,n){t===n?j(t,p()):e(n)?g(t,n,y(n)):x(t,n)}function _(t){t._onerror&&t._onerror(t._result),A(t)}function x(t,e){t._state===et&&(t._result=e,t._state=nt,0!==t._subscribers.length&&G(A,t))}function j(t,e){t._state===et&&(t._state=rt,t._result=e,G(_,t))}function O(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+nt]=n,i[o+rt]=r,0===o&&t._state&&G(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?S(n,r,i,o):i(o);t._subscribers.length=0}}function E(){this.error=null}function T(t,e){try{return t(e)}catch(t){return ot.error=t,ot}}function S(t,e,r,i){var o=n(r),s=void 0,u=void 0,a=void 0,c=void 0;if(o){if(s=T(r,i),s===ot?(c=!0,u=s.error,s=null):a=!0,e===s)return void j(e,d())}else s=i,a=!0;e._state!==et||(o&&a?b(e,s):c?j(e,u):t===nt?x(e,s):t===rt&&j(e,s))}function C(t,e){try{e(function(e){b(t,e)},function(e){j(t,e)})}catch(e){j(t,e)}}function P(){return st++}function q(t){t[tt]=st++,t._state=void 0,t._result=void 0,t._subscribers=[]}function R(t,e){this._instanceConstructor=t,this.promise=new t(h),this.promise[tt]||q(this.promise),M(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):j(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function k(t){return new R(this,t).promise}function N(t){var e=this;return new e(M(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function F(t){var e=this,n=new e(h);return j(n,t),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(t){this[tt]=P(),this._result=this._state=void 0,this._subscribers=[],h!==t&&("function"!=typeof t&&L(),this instanceof z?C(this,t):H())}function U(){var t=void 0;if(void 0!==i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=z}var I=void 0;I=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var M=I,J=0,B=void 0,X=void 0,G=function(t,e){W[J]=t,W[J+1]=e,2===(J+=2)&&(X?X(c):Q())},V="undefined"!=typeof window?window:void 0,$=V||{},Z=$.MutationObserver||$.WebKitMutationObserver,K="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,W=new Array(1e3),Q=void 0;Q=K?function(){return function(){return r.nextTick(c)}}():Z?function(){var t=0,e=new Z(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():Y?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===V&&"function"==typeof t?function(){try{var e=t,n=e("vertx");return B=n.runOnLoop||n.runOnContext,u()}catch(t){return a()}}():a();var tt=Math.random().toString(36).substring(16),et=void 0,nt=1,rt=2,it=new E,ot=new E,st=0;return R.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===et&&n<t;n++)this._eachEntry(e[n],n)},R.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===l){var i=y(t);if(i===f&&t._state!==et)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===z){var o=new n(h);g(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},R.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===et&&(this._remaining--,t===rt?j(r,n):this._result[e]=n),0===this._remaining&&x(r,this._result)},R.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){return n._settledAt(nt,e,t)},function(t){return n._settledAt(rt,e,t)})},z.all=k,z.race=N,z.resolve=l,z.reject=F,z._setScheduler=o,z._setAsap=s,z._asap=G,z.prototype={constructor:z,then:f,catch:function(t){return this.then(null,t)}},U(),z.polyfill=U,z.Promise=z,z})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:8}],6:[function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new Error("Could not parse function signature for injection dependencies: Object is not a function");if(!t.length)return[];var e=/^()\(?([^)=]*)\)? *=>/.exec(t+"")||/^[^(]+([^ \(]*) *\(([^\)]*)\)/.exec(t+"");if(!e)throw new Error("Could not parse function signature for injection dependencies: "+t);return e[2].replace(/\/\*[\S\s]*?\*\//g," ").replace(/\/\/.*/g," ").split(",").map(function(t){return t&&t.trim()}).filter(Boolean)}e.exports=r},{}],7:[function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,a=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var f in n)o.call(n,f)&&(a[f]=n[f]);if(i){u=i(n);for(var l=0;l<u.length;l++)s.call(n,u[l])&&(a[u[l]]=n[u[l]])}}return a}},{}],8:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function u(){v&&d&&(v=!1,d.length?y=d.concat(y):m=-1,y.length&&a())}function a(){if(!v){var t=o(u);v=!0;for(var e=y.length;e;){for(d=y,y=[];++m<e;)d&&d[m].run();m=-1,e=y.length}d=null,v=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function f(){}var l,h,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,y=[],v=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];y.push(new c(t,e)),1!==y.length||v||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],9:[function(t,e,n){e.exports=function(t,e,n){for(var r=0,i=t.length,o=3==arguments.length?n:t[r++];r<i;)o=e.call(null,o,t[r],++r,t);return o}},{}],10:[function(t,e,n){function r(){}function i(t){switch({}.toString.call(t)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(t){if(!g(t))return t;var e=[];for(var n in t)null!=t[n]&&s(e,n,t[n]);return e.join("&")}function s(t,e,n){if(Array.isArray(n))return n.forEach(function(n){s(t,e,n)});t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}function u(t){for(var e,n,r={},i=t.split("&"),o=0,s=i.length;o<s;++o)n=i[o],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function a(t){var e,n,r,i,o=t.split(/\r?\n/),s={};o.pop();for(var u=0,a=o.length;u<a;++u)n=o[u],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=_(n.slice(e+1)),s[r]=i;return s}function c(t){return/[\/+]json\b/.test(t)}function f(t){return t.split(/ *; */).shift()}function l(t){return m(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=a(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(n)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,t.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var r=new Error(e.statusText||"Unsuccessful HTTP response");r.original=t,r.response=e,r.status=e.status,n.callback(r,e)})}function d(t,e){var n=b("DELETE",t);return e&&n.end(e),n}var y,v=t("emitter"),m=t("reduce"),w=t("./request-base"),g=t("./is-object");y="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var b=e.exports=t("./request").bind(null,p);b.getXHR=function(){if(!(!y.XMLHttpRequest||y.location&&"file:"==y.location.protocol&&y.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var _="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};b.serializeObject=o,b.parseString=u,b.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=f(e);var n=l(e);for(var r in n)this[r]=n[r]},h.prototype.parseBody=function(t){var e=b.parse[this.type];return!e&&c(this.type)&&(e=b.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},h.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},b.Response=h,v(p.prototype);for(var x in w)p.prototype[x]=w[x];p.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},p.prototype.type=function(t){return this.set("Content-Type",b.types[t]||t),this},p.prototype.responseType=function(t){return this._responseType=t,this},p.prototype.accept=function(t){return this.set("Accept",b.types[t]||t),this},p.prototype.auth=function(t,e,n){switch(n||(n={type:"basic"}),n.type){case"basic":var r=btoa(t+":"+e);this.set("Authorization","Basic "+r);break;case"auto":this.username=t,this.password=e}return this},p.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},p.prototype.attach=function(t,e,n){return this._getFormData().append(t,e,n||e.name),this},p.prototype._getFormData=function(){return this._formData||(this._formData=new y.FormData),this._formData},p.prototype.send=function(t){var e=g(t),n=this._header["content-type"];if(e&&g(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||i(t)?this:(n||this.type("json"),this)},h.prototype.parse=function(t){return y.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(t),this},h.prototype.serialize=function(t){return this._parser=t,this},p.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},p.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},p.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(t){var e=this,n=this.xhr=b.getXHR(),o=this._query.join("&"),s=this._timeout,u=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(e){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var a=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=a);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=a)}catch(t){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),o&&(o=b.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof u&&!i(u)){var f=this._header["content-type"],l=this._parser||b.serialize[f?f.split(";")[0]:""];!l&&c(f)&&(l=b.serialize["application/json"]),l&&(u=l(u))}for(var h in this.header)null!=this.header[h]&&n.setRequestHeader(h,this.header[h]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0!==u?u:null),this},b.Request=p,b.get=function(t,e,n){var r=b("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},b.head=function(t,e,n){var r=b("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.del=d,b.delete=d,b.patch=function(t,e,n){var r=b("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.post=function(t,e,n){var r=b("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.put=function(t,e,n){var r=b("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},{"./is-object":11,"./request":13,"./request-base":12,emitter:4,reduce:9}],11:[function(t,e,n){function r(t){return null!=t&&"object"==typeof t}e.exports=r},{}],12:[function(t,e,n){var r=t("./is-object");n.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},n.parse=function(t){return this._parser=t,this},n.timeout=function(t){return this._timeout=t,this},n.then=function(t,e){return this.end(function(n,r){n?e(n):t(r)})},n.use=function(t){return t(this),this},n.get=function(t){return this._header[t.toLowerCase()]},n.getHeader=n.get,n.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},n.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},n.field=function(t,e){return this._getFormData().append(t,e),this}},{"./is-object":11}],13:[function(t,e,n){function r(t,e,n){return"function"==typeof n?new t("GET",e).end(n):2==arguments.length?new t("GET",e):new t(e,n)}e.exports=r},{}],14:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],15:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],16:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(e)?r.showHidden=e:e&&n._extend(r,e),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),a(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function u(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function a(t,e,r){if(t.customInspect&&e&&E(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return g(i)||(i=a(t,i,r)),i}var o=c(t,e);if(o)return o;var s=Object.keys(e),y=u(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),A(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(e);if(0===s.length){if(E(e)){var v=e.name?": "+e.name:"";return t.stylize("[Function"+v+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(O(e))return t.stylize(Date.prototype.toString.call(e),"date");if(A(e))return f(e)}var m="",w=!1,b=["{","}"];if(d(e)&&(w=!0,b=["[","]"]),E(e)){m=" [Function"+(e.name?": "+e.name:"")+"]"}if(x(e)&&(m=" "+RegExp.prototype.toString.call(e)),O(e)&&(m=" "+Date.prototype.toUTCString.call(e)),A(e)&&(m=" "+f(e)),0===s.length&&(!w||0==e.length))return b[0]+m+b[1];if(r<0)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var _;return _=w?l(t,e,r,y,s):s.map(function(n){return h(t,e,r,y,n,w)}),t.seen.pop(),p(_,m,b)}function c(t,e){if(_(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return w(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i){for(var o=[],s=0,u=e.length;s<u;++s)q(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),q(r,i)||(s="["+i+"]"),u||(t.seen.indexOf(c.value)<0?(u=v(n)?a(t,c.value,null):a(t,c.value,n-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function p(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return null==t}function w(t){return"number"==typeof t}function g(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function _(t){return void 0===t}function x(t){return j(t)&&"[object RegExp]"===S(t)}function j(t){return"object"==typeof t&&null!==t}function O(t){return j(t)&&"[object Date]"===S(t)}function A(t){return j(t)&&("[object Error]"===S(t)||t instanceof Error)}function E(t){return"function"==typeof t}function T(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function S(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),k[t.getMonth()],e].join(" ")}function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(/%[sdj%]/g,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<o;u=r[++n])s+=v(u)||!j(u)?" "+u:" "+i(u);return s},n.deprecate=function(t,i){function o(){if(!s){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}if(_(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return o};var R,D={};n.debuglog=function(t){if(_(R)&&(R=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!D[t])if(new RegExp("\\b"+t+"\\b","i").test(R)){var r=e.pid;D[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else D[t]=function(){};return D[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=y,n.isNull=v,n.isNullOrUndefined=m,n.isNumber=w,n.isString=g,n.isSymbol=b,n.isUndefined=_,n.isRegExp=x,n.isObject=j,n.isDate=O,n.isError=A,n.isFunction=E,n.isPrimitive=T,n.isBuffer=t("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",P(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!j(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":15,_process:8,inherits:14}],17:[function(t,e,n){"use strict";function r(t){var e=p.applyDefaults(t,{domain:"db.fauna.com",scheme:"https",port:null,secret:null,timeout:60,observer:null});null===e.port&&(e.port="https"===e.scheme?443:80),this._baseUrl=e.scheme+"://"+e.domain+":"+e.port,this._timeout=Math.floor(1e3*e.timeout),this._secret=e.secret,this._observer=e.observer}function i(t,e){return void 0===t?e:t}function o(t){return"Basic "+s(t+":")}var s=t("btoa-lite"),u=t("superagent"),a=t("./errors"),c=t("./query"),f=t("./values"),l=t("./_json"),h=t("./RequestResult"),p=t("./_util"),d=t("./PageHelper"),y=t("es6-promise").Promise;r.prototype.query=function(t){return this._execute("POST","",c.wrap(t))},r.prototype.paginate=function(t,e){return e=i(e,{}),new d(this,t,e)},r.prototype.get=function(t,e){return e=i(e,null),this._execute("GET",t,null,e)},r.prototype.post=function(t,e){return this._execute("POST",t,e)},r.prototype.put=function(t,e){return this._execute("PUT",t,e)},r.prototype.patch=function(t,e){return this._execute("PATCH",t,e)},r.prototype.delete=function(t){return this._execute("DELETE",t)},r.prototype.ping=function(t,e){return this.get("ping",{scope:t,timeout:e})},r.prototype._execute=function(t,e,n,r){r=i(r,null),e instanceof f.Ref&&(e=e.value),null!==r&&(r=p.removeUndefinedValues(r));var o=Date.now(),s=this;return this._performRequest(t,e,n,r).then(function(i){var u=Date.now(),c=l.parseJSON(i.text),f=new h(s,t,e,r,n,i.text,c,i.status,i.header,o,u);return null!=s._observer&&s._observer(f),a.FaunaHTTPError.raiseForStatusCode(f),c.resource})},r.prototype._performRequest=function(t,e,n,r){var i=u(t,this._baseUrl+"/"+e);return r&&i.query(r),i.type("json"),i.send(JSON.stringify(n)),this._secret&&i.set("Authorization",o(this._secret)),i.timeout(this._timeout),new y(function(t,e){i.end(function(n,r){n&&void 0===n.response?e(n):!n||!n.response||n.response.status>=400&&n.response.status<=599?t(r):e(n)})})},e.exports=r},{"./PageHelper":19,"./RequestResult":20,"./_json":21,"./_util":22,"./errors":24,"./query":25,"./values":26,"btoa-lite":3,"es6-promise":5,superagent:10}],18:[function(t,e,n){"use strict";function r(t){this.raw=t}r.prototype.toJSON=function(){return this.raw},e.exports=r},{}],19:[function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n={}),this.reverse=!1,this.params={},this.before=void 0,this.after=void 0,o(this.params,n),"before"in n?(this.before=n.before,delete this.params.before):"after"in n&&(this.after=n.after,delete this.params.after),this.client=t,this.set=e,this._faunaFunctions=[]}var i=t("./query"),o=t("object-assign"),s=t("es6-promise").Promise;r.prototype.map=function(t){var e=this._clone();return e._faunaFunctions.push(function(e){return i.Map(e,t)}),e},r.prototype.filter=function(t){var e=this._clone();return e._faunaFunctions.push(function(e){return i.Filter(e,t)}),e},
r.prototype.each=function(t){return this._retrieveNextPage(this.after,!1).then(this._consumePages(t,!1))},r.prototype.eachReverse=function(t){return this._retrieveNextPage(this.before,!0).then(this._consumePages(t,!0))},r.prototype.previousPage=function(){var t=this;return this._retrieveNextPage(this.before,!0).then(this._adjustCursors.bind(t))},r.prototype.nextPage=function(){var t=this;return this._retrieveNextPage(this.after,!1).then(this._adjustCursors.bind(t))},r.prototype._adjustCursors=function(t){return void 0!==t.after&&(this.after=t.after),void 0!==t.before&&(this.before=t.before),t.data},r.prototype._consumePages=function(t,e){var n=this;return function(r){t(r.data);var i;return i=e?r.before:r.after,void 0!==i?n._retrieveNextPage(i,e).then(n._consumePages(t,e)):s.resolve()}},r.prototype._retrieveNextPage=function(t,e){var n={};o(n,this.params),void 0!==t?e?n.before=t:n.after=t:e&&(n.before=null);var r=i.Paginate(this.set,n);return this._faunaFunctions.length>0&&this._faunaFunctions.forEach(function(t){r=t(r)}),this.client.query(r)},r.prototype._clone=function(){return Object.create(r.prototype,{client:{value:this.client},set:{value:this.set},_faunaFunctions:{value:this._faunaFunctions},before:{value:this.before},after:{value:this.after}})},e.exports=r},{"./query":25,"es6-promise":5,"object-assign":7}],20:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,s,u,a,c,f){this.client=t,this.method=e,this.path=n,this.query=r,this.requestContent=i,this.responseRaw=o,this.responseContent=s,this.statusCode=u,this.responseHeaders=a,this.startTime=c,this.endTime=f}Object.defineProperty(r.prototype,"auth",{get:function(){return this.client._secret}}),Object.defineProperty(r.prototype,"timeTaken",{get:function(){return this.endTime-this.startTime}}),e.exports=r},{}],21:[function(t,e,n){"use strict";function r(t,e){return e=void 0!==e&&e,e?JSON.stringify(t,null,"  "):JSON.stringify(t)}function i(t){return JSON.parse(t,o)}function o(t,e){return"object"!=typeof e||null===e?e:"@ref"in e?new s.Ref(e["@ref"]):"@obj"in e?e["@obj"]:"@set"in e?new s.SetRef(e["@set"]):"@ts"in e?new s.FaunaTime(e["@ts"]):"@date"in e?new s.FaunaDate(e["@date"]):"@bytes"in e?new s.Bytes(e["@bytes"]):e}var s=t("./values");e.exports={toJSON:r,parseJSON:i}},{"./values":26}],22:[function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t){if(!(r in e))throw new Error("No such option "+r);n[r]=t[r]}for(var i in e)i in n||(n[i]=e[i]);return n}function i(t){var e={};for(var n in t){var r=t[n];void 0!==r&&(e[n]=r)}return e}e.exports={applyDefaults:r,removeUndefinedValues:i}},{}],23:[function(t,e,n){"use strict";function r(t){return function(e){return t(i(e))}}function i(t){function e(t){h+=t}var n=t.query,r=t.method,i=t.path,o=t.requestContent,a=t.responseHeaders,c=t.responseContent,f=t.statusCode,l=t.timeTaken,h="";return e("Fauna "+r+" /"+i+u(n)+"\n"),null!=o&&e("  Request JSON: "+s(o)+"\n"),e("  Response headers: "+s(a)+"\n"),e("  Response JSON: "+s(c)+"\n"),e("  Response ("+f+"): Network latency "+l+"ms\n"),h}function o(t){return t.split("\n").join("\n  ")}function s(t){return o(a.toJSON(t,!0))}function u(t){if(null==t)return"";var e=Object.keys(t);return 0===e.length?"":"?"+e.map(function(e){return e+"="+t[e]}).join("&")}var a=t("./_json");e.exports={logger:r,showRequestResult:i}},{"./_json":21}],24:[function(t,e,n){"use strict";function r(t,e){Error.call(this),this.name=t,this.message=e}function i(t){r.call(this,"InvalidValue",t)}function o(t,e,n){r.call(this,"InvalidArity","Function requires "+function(t,e){return null===e?"at least "+t:null===t?"up to "+e:t===e?t:"from "+t+" to "+e}(t,e)+" arguments but "+n+" were given."),this.min=t,this.max=e,this.actual=n}function s(t,e){var n=e.responseContent,i=n.errors,o=0===i.length?'(empty "errors")':i[0].code;r.call(this,t,o),this.requestResult=e}function u(t){s.call(this,"BadRequest",t)}function a(t){s.call(this,"Unauthorized",t)}function c(t){s.call(this,"PermissionDenied",t)}function f(t){s.call(this,"NotFound",t)}function l(t){s.call(this,"MethodNotAllowed",t)}function h(t){s.call(this,"InternalError",t)}function p(t){s.call(this,"UnavailableError",t)}var d=t("util");d.inherits(r,Error),d.inherits(i,r),d.inherits(o,r),d.inherits(s,r),s.prototype.errors=function(){return this.requestResult.responseContent.errors},s.raiseForStatusCode=function(t){var e=t.statusCode;if(e<200||e>=300)switch(e){case 400:throw new u(t);case 401:throw new a(t);case 403:throw new c(t);case 404:throw new f(t);case 405:throw new l(t);case 500:throw new h(t);case 503:throw new p(t);default:throw new s("UnknownError",t)}},d.inherits(u,s),d.inherits(a,s),d.inherits(c,s),d.inherits(f,s),d.inherits(l,s),d.inherits(h,s),d.inherits(p,s),e.exports={FaunaHTTPError:s,InvalidValue:i,InvalidArity:o,BadRequest:u,Unauthorized:a,PermissionDenied:c,NotFound:f,MethodNotAllowed:l,InternalError:h,UnavailableError:p}},{util:16}],25:[function(t,e,n){"use strict";function r(){switch(ht.between(1,2,arguments),arguments.length){case 1:return new xt.Ref(arguments[0]);case 2:return new bt({ref:mt(arguments[0]),id:mt(arguments[1])})}}function i(t,e){return ht.exact(2,arguments),new bt({at:mt(t),expr:mt(e)})}function o(t,e){return ht.exact(2,arguments),new bt({let:wt(t),in:mt(e)})}function s(t){return ht.exact(1,arguments),new bt({var:mt(t)})}function u(t,e,n){return ht.exact(3,arguments),new bt({if:mt(t),then:mt(e),else:mt(n)})}function a(){return ht.min(1,arguments),new bt({do:mt(dt(arguments))})}function c(){switch(ht.between(1,2,arguments),arguments.length){case 1:var t=arguments[0];if(t instanceof Function)return f(t);if(t instanceof bt)return t;throw new _t.InvalidValue("Lambda function takes either a Function or an Expr.");case 2:return l(arguments[0],arguments[1])}}function f(t){var e=gt(t);switch(e.length){case 0:throw new _t.InvalidValue("Provided Function must take at least 1 argument.");case 1:return l(e[0],t(s(e[0])));default:return l(e,t.apply(null,e.map(function(t){return s(t)})))}}function l(t,e){return new bt({lambda:mt(t),expr:mt(e)})}function h(t,e){return ht.exact(2,arguments),new bt({map:mt(e),collection:mt(t)})}function p(t,e){return ht.exact(2,arguments),new bt({foreach:mt(e),collection:mt(t)})}function d(t,e){return ht.exact(2,arguments),new bt({filter:mt(e),collection:mt(t)})}function y(t,e){return ht.exact(2,arguments),new bt({take:mt(t),collection:mt(e)})}function v(t,e){return ht.exact(2,arguments),new bt({drop:mt(t),collection:mt(e)})}function m(t,e){return ht.exact(2,arguments),new bt({prepend:mt(t),collection:mt(e)})}function w(t,e){return ht.exact(2,arguments),new bt({append:mt(t),collection:mt(e)})}function g(t,e){return ht.between(1,2,arguments),e=vt(e,null),new bt(pt({get:mt(t)},{ts:mt(e)}))}function b(t){return ht.exact(1,arguments),new bt({key_from_secret:mt(t)})}function _(t,e){return ht.between(1,2,arguments),e=vt(e,{}),new bt(jt({paginate:mt(t)},wt(e)))}function x(t,e){return ht.between(1,2,arguments),e=vt(e,null),new bt(pt({exists:mt(t)},{ts:mt(e)}))}function j(t,e){return ht.between(1,2,arguments),new bt({create:mt(t),params:mt(e)})}function O(t,e){return ht.exact(2,arguments),new bt({update:mt(t),params:mt(e)})}function A(t,e){return ht.exact(2,arguments),new bt({replace:mt(t),params:mt(e)})}function E(t){return ht.exact(1,arguments),new bt({delete:mt(t)})}function T(t,e,n,r){return ht.exact(4,arguments),new bt({insert:mt(t),ts:mt(e),action:mt(n),params:mt(r)})}function S(t,e,n){return ht.exact(3,arguments),new bt({remove:mt(t),ts:mt(e),action:mt(n)})}function C(t){return ht.exact(1,arguments),new bt({create_class:mt(t)})}function P(t){return ht.exact(1,arguments),new bt({create_database:mt(t)})}function q(t){return ht.exact(1,arguments),new bt({create_index:mt(t)})}function R(t){return ht.exact(1,arguments),new bt({create_key:mt(t)})}function D(t){ht.min(1,arguments);var e=yt(arguments);return e.shift(),new bt({match:mt(t),terms:mt(dt(e))})}function k(){return ht.min(1,arguments),new bt({union:mt(dt(arguments))})}function N(){return ht.min(1,arguments),new bt({intersection:mt(dt(arguments))})}function F(){return ht.min(1,arguments),new bt({difference:mt(dt(arguments))})}function L(t){return ht.exact(1,arguments),new bt({distinct:mt(t)})}function H(t,e){return ht.exact(2,arguments),new bt({join:mt(t),with:mt(e)})}function z(t,e){return ht.exact(2,arguments),new bt({login:mt(t),params:mt(e)})}function U(t){return ht.exact(1,arguments),new bt({logout:mt(t)})}function I(t,e){return ht.exact(2,arguments),new bt({identify:mt(t),password:mt(e)})}function M(t,e){return ht.min(1,arguments),e=vt(e,null),new bt(pt({concat:mt(t)},{separator:mt(e)}))}function J(t){return ht.exact(1,arguments),new bt({casefold:mt(t)})}function B(t){return ht.exact(1,arguments),new bt({time:mt(t)})}function X(t,e){return ht.exact(2,arguments),new bt({epoch:mt(t),unit:mt(e)})}function G(t){return ht.exact(1,arguments),new bt({date:mt(t)})}function V(){return ht.exact(0,arguments),new bt({next_id:null})}function $(t){return ht.exact(1,arguments),new bt({database:mt(t)})}function Z(t){return ht.exact(1,arguments),new bt({index:mt(t)})}function K(t){return ht.exact(1,arguments),new bt({class:mt(t)})}function Y(){return ht.min(1,arguments),new bt({equals:dt(arguments)})}function W(t,e){return ht.exact(2,arguments),new bt({contains:mt(t),in:mt(e)})}function Q(t,e,n){ht.between(2,3,arguments);var r={select:mt(t),from:mt(e)};return void 0!==n&&(r.default=wt(n)),new bt(r)}function tt(){return ht.min(1,arguments),new bt({add:mt(dt(arguments))})}function et(){return ht.min(1,arguments),new bt({multiply:mt(dt(arguments))})}function nt(){return ht.min(1,arguments),new bt({subtract:mt(dt(arguments))})}function rt(){return ht.min(1,arguments),new bt({divide:mt(dt(arguments))})}function it(){return ht.min(1,arguments),new bt({modulo:mt(dt(arguments))})}function ot(){return ht.min(1,arguments),new bt({lt:mt(dt(arguments))})}function st(){return ht.min(1,arguments),new bt({lte:mt(dt(arguments))})}function ut(){return ht.min(1,arguments),new bt({gt:mt(dt(arguments))})}function at(){return ht.min(1,arguments),new bt({gte:mt(dt(arguments))})}function ct(){return ht.min(1,arguments),new bt({and:mt(dt(arguments))})}function ft(){return ht.min(1,arguments),new bt({or:mt(dt(arguments))})}function lt(t){return ht.exact(1,arguments),new bt({not:mt(t)})}function ht(t,e,n){if(null!==t&&n.length<t||null!==e&&n.length>e)throw new _t.InvalidArity(t,e,n.length)}function pt(t,e){for(var n in e){var r=e[n];null!==r&&(t[n]=r)}return t}function dt(t){var e=Array.isArray(t)?t:Array.prototype.slice.call(t);return 1===t.length?t[0]:e}function yt(t){var e=[];return e.push.apply(e,t),e}function vt(t,e){return void 0===t?e:t}function mt(t){return ht.exact(1,arguments),null===t?null:t instanceof bt?t:t instanceof Function?c(t):Array.isArray(t)?new bt(t.map(function(t){return mt(t)})):t instanceof Uint8Array||t instanceof ArrayBuffer?new xt.Bytes(t):"object"==typeof t?new bt({object:wt(t)}):t}function wt(t){if(null!==t){var e={};return Object.keys(t).forEach(function(n){e[n]=mt(t[n])}),e}return null}var gt=t("fn-annotate"),bt=t("./Expr"),_t=t("./errors"),xt=t("./values"),jt=t("object-assign"),Ot=function(t){return ht.exact(1,arguments),new bt({object:wt(t)})};ht.exact=function(t,e){ht(t,t,e)},ht.max=function(t,e){ht(null,t,e)},ht.min=function(t,e){ht(t,null,e)},ht.between=function(t,e,n){ht(t,e,n)},e.exports={Ref:r,At:i,Let:o,Var:s,If:u,Do:a,Object:Ot,Lambda:c,Map:h,Foreach:p,Filter:d,Take:y,Drop:v,Prepend:m,Append:w,Get:g,KeyFromSecret:b,Paginate:_,Exists:x,Create:j,Update:O,Replace:A,Delete:E,Insert:T,Remove:S,CreateClass:C,CreateDatabase:P,CreateIndex:q,CreateKey:R,Match:D,Union:k,Intersection:N,Difference:F,Distinct:L,Join:H,Login:z,Logout:U,Identify:I,Concat:M,Casefold:J,Time:B,Epoch:X,Date:G,NextId:V,Database:$,Index:Z,Class:K,Equals:Y,Contains:W,Select:Q,Add:tt,Multiply:et,Subtract:nt,Divide:rt,Modulo:it,LT:ot,LTE:st,GT:ut,GTE:at,And:ct,Or:ft,Not:lt,wrap:mt}},{"./Expr":18,"./errors":24,"./values":26,"fn-annotate":6,"object-assign":7}],26:[function(t,e,n){"use strict";function r(){}function i(){var t=Array.prototype.slice.call(arguments);this.value=t.join("/")}function o(t){this.value=t}function s(t){if(t instanceof Date)t=t.toISOString();else if("Z"!==t.charAt(t.length-1))throw new f.InvalidValue("Only allowed timezone is 'Z', got: "+t);this.value=t}function u(t){t instanceof Date&&(t=t.toISOString().slice(0,10)),this.value=t}function a(t){if(t instanceof ArrayBuffer)this.value=new Uint8Array(t);else if("string"==typeof t)this.value=c.toByteArray(t);else{if(!(t instanceof Uint8Array))throw new f.InvalidValue("Bytes type expect argument to be either Uint8Array|ArrayBuffer|string, got: "+JSON.stringify(t));this.value=t}}var c=t("base64-js"),f=t("./errors"),l=t("./Expr"),h=t("util");h.inherits(r,l),h.inherits(i,r),Object.defineProperty(i.prototype,"class",{get:function(){var t=this.value.split("/");return 1===t.length?this:new i(t.slice(0,t.length-1).join("/"))}}),Object.defineProperty(i.prototype,"id",{get:function(){var t=this.value.split("/");if(1===t.length)throw new f.InvalidValue("The Ref does not have an id.");return t[t.length-1]}}),i.prototype.toJSON=function(){return{"@ref":this.value}},i.prototype.toString=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.inspect=function(){return"Ref("+JSON.stringify(this.value)+")"},i.prototype.equals=function(t){return t instanceof i&&this.value===t.value},h.inherits(o,r),o.prototype.inspect=function(){return"SetRef("+JSON.stringify(this.value)+")"},o.prototype.toJSON=function(){return{"@set":this.value}},h.inherits(s,r),Object.defineProperty(s.prototype,"date",{get:function(){return new Date(this.value)}}),s.prototype.toJSON=function(){return{"@ts":this.value}},h.inherits(u,r),Object.defineProperty(u.prototype,"date",{get:function(){return new Date(this.value)}}),u.prototype.toJSON=function(){return{"@date":this.value}},h.inherits(a,r),a.prototype.inspect=function(){return'Bytes("'+c.fromByteArray(this.value)+'")'},a.prototype.toJSON=function(){return{"@bytes":c.fromByteArray(this.value)}},e.exports={Value:r,Ref:i,SetRef:o,FaunaTime:s,FaunaDate:u,Bytes:a}},{"./Expr":18,"./errors":24,"base64-js":2,util:16}]},{},[1]);