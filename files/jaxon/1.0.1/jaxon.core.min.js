"undefined"==typeof jaxon&&(jaxon={}),"undefined"==typeof jaxon.config&&(jaxon.config={}),jaxon.config.setDefault=function(e,n){"undefined"==typeof jaxon.config[e]&&(jaxon.config[e]=n)},jaxon.config.setDefault("commonHeaders",{"If-Modified-Since":"Sat, 1 Jan 2000 00:00:00 GMT"}),jaxon.config.setDefault("postHeaders",{}),jaxon.config.setDefault("getHeaders",{}),jaxon.config.setDefault("waitCursor",!1),jaxon.config.setDefault("statusMessages",!1),jaxon.config.setDefault("baseDocument",document),jaxon.config.setDefault("requestURI",jaxon.config.baseDocument.URL),jaxon.config.setDefault("defaultMode","asynchronous"),jaxon.config.setDefault("defaultHttpVersion","HTTP/1.1"),jaxon.config.setDefault("defaultContentType","application/x-www-form-urlencoded"),jaxon.config.setDefault("defaultResponseDelayTime",1e3),jaxon.config.setDefault("defaultExpirationTime",1e4),jaxon.config.setDefault("defaultMethod","POST"),jaxon.config.setDefault("defaultRetry",5),jaxon.config.setDefault("defaultReturnValue",!1),jaxon.config.setDefault("maxObjectDepth",20),jaxon.config.setDefault("maxObjectSize",2e3),jaxon.config.setDefault("responseQueueSize",1e3),jaxon.config.status={update:function(){return{onRequest:function(){window.status="Sending Request..."},onWaiting:function(){window.status="Waiting for Response..."},onProcessing:function(){window.status="Processing..."},onComplete:function(){window.status="Done."}}},dontUpdate:function(){return{onRequest:function(){},onWaiting:function(){},onProcessing:function(){},onComplete:function(){}}}},jaxon.config.cursor={update:function(){return{onWaiting:function(){jaxon.config.baseDocument.body&&(jaxon.config.baseDocument.body.style.cursor="wait")},onComplete:function(){jaxon.config.baseDocument.body.style.cursor="auto"}}},dontUpdate:function(){return{onWaiting:function(){},onComplete:function(){}}}},jaxon.tools={},jaxon.tools.$=function(e){if(!e)return null;if("string"!=typeof e)return e;var n=jaxon.config.baseDocument,t=n.getElementById(e);return t?t:n.all?n.all[e]:t},jaxon.tools.in_array=function(e,n){for(var t=0,o=e.length;o>t;){if(e[t]==n)return!0;++t}return!1},jaxon.tools.doubleQuotes=function(e){return"undefined"==typeof e?!1:e.replace(new RegExp("'","g"),'"')},jaxon.tools._enforceDataType=function(e){e=new String(e);var n=e.substr(0,1);return e=e.substr(1),"*"==n?e=null:"N"==n?e-=0:"B"==n&&(e=!!e),e},jaxon.tools._nodeToObject=function(e){if(null==e)return"";if("undefined"!=typeof e.nodeName){if("#cdata-section"==e.nodeName||"#text"==e.nodeName){var n="";do e.data&&(n+=e.data);while(e=e.nextSibling);return jaxon.tools._enforceDataType(n)}if("jxnobj"==e.nodeName){for(var t=null,o=null,n=new Array,a=e.firstChild;a;){if("e"==a.nodeName){for(var r=a.firstChild;r;)"k"==r.nodeName?t=jaxon.tools._enforceDataType(r.firstChild.data):"v"==r.nodeName,o=jaxon.tools._nodeToObject(r.firstChild),r=r.nextSibling;null!=t&&(n[t]=o,t=o=null)}a=a.nextSibling}return n}}throw{code:10001,data:e.nodeName}},jaxon.tools.getRequestObject=function(){return"undefined"!=typeof XMLHttpRequest?jaxon.tools.getRequestObject=function(){return new XMLHttpRequest}:"undefined"!=typeof ActiveXObject?jaxon.tools.getRequestObject=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.4.0")}catch(e){return jaxon.tools.getRequestObject=function(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){return jaxon.tools.getRequestObject=function(){return new ActiveXObject("Microsoft.XMLHTTP")},jaxon.tools.getRequestObject()}},jaxon.tools.getRequestObject()}}:window.createRequest?jaxon.tools.getRequestObject=function(){return window.createRequest()}:jaxon.tools.getRequestObject=function(){throw{code:10002}},jaxon.tools.getRequestObject()},jaxon.tools.getBrowserHTML=function(e){var n=jaxon.config.baseDocument;if(!n.body)return"";var t=jaxon.$("jaxon_temp_workspace");t||(t=n.createElement("div"),t.setAttribute("id","jaxon_temp_workspace"),t.style.display="none",t.style.visibility="hidden",n.body.appendChild(t)),t.innerHTML=e;var o=t.innerHTML;return t.innerHTML="",o},jaxon.tools.willChange=function(element,attribute,newData){if("string"==typeof element&&(element=jaxon.$(element)),element){var oldData;return eval("oldData=element."+attribute),newData!=oldData}return!1},jaxon.tools.getFormValues=function(e){var n=!1;arguments.length>1&&1==arguments[1]&&(n=!0);var t="";arguments.length>2&&(t=arguments[2]),"string"==typeof e&&(e=jaxon.$(e));var o={};return e&&e.childNodes&&jaxon.tools._getFormValues(o,e.childNodes,n,t),o},jaxon.tools._getFormValues=function(e,n,t,o){for(var a=n.length,r=0;a>r;++r){var s=n[r];"undefined"!=typeof s.childNodes&&"select-one"!=s.type&&"select-multiple"!=s.type&&jaxon.tools._getFormValues(e,s.childNodes,t,o),jaxon.tools._getFormValue(e,s,t,o)}},jaxon.tools._getFormValue=function(e,n,t,o){if(n.name&&"PARAM"!=n.tagName&&!(n.disabled&&1==n.disabled&&0==t||o!=n.name.substring(0,o.length)||n.type&&("radio"==n.type||"checkbox"==n.type)&&0==n.checked)){var a=n.name,r=[];if("select-multiple"==n.type)for(var s=n.length,l=0;s>l;++l){var u=n.options[l];1==u.selected&&r.push(u.value)}else r=n.value;var i=a.indexOf("[");if(i>=0){var c=a,d=c.substr(0,c.indexOf("[")),m=c.substr(c.indexOf("["));"undefined"==typeof e[d]&&(e[d]={});for(var x=e;0!=m.length;){var f=m.substr(0,m.indexOf("]")+1),p=d,j=x;if(m=m.substr(m.indexOf("]")+1),x=x[d],d=f.substr(1,f.length-2),""==d&&("select-multiple"==n.type?(d=p,x=j):d=x.length),"undefined"==typeof d){d=0;for(var g in j[p])d++}"undefined"==typeof x[d]&&(x[d]={})}x[d]=r}else e[a]=r}},jaxon.tools.stripOnPrefix=function(e){return e=e.toLowerCase(),0==e.indexOf("on")&&(e=e.replace(/on/,"")),e},jaxon.tools.addOnPrefix=function(e){return e=e.toLowerCase(),0!=e.indexOf("on")&&(e="on"+e),e},jaxon.tools.xml={},jaxon.tools.xml.parseAttributes=function(e,n){for(var t=e.attributes.length,o=0;t>o;++o){var a=e.attributes[o];n[a.name]=a.value}},jaxon.tools.xml.parseChildren=function(e,n){if(n.data="",0<e.childNodes.length)if(1<e.childNodes.length){var t=e.firstChild;do("#cdata-section"==t.nodeName||"#text"==t.nodeName)&&(n.data+=t.data);while(t=t.nextSibling)}else{var t=e.firstChild;if("jxnobj"==t.nodeName)return void(n.data=jaxon.tools._nodeToObject(t));("#cdata-section"==t.nodeName||"#text"==t.nodeName)&&(n.data=t.data)}else"undefined"!=typeof e.data&&(n.data=e.data);n.data=jaxon.tools._enforceDataType(n.data)},jaxon.tools.xml.processFragment=function(e,n,t,o){for(var a=jaxon,r=a.tools;e;){if("cmd"==e.nodeName){var s={};s.fullName="*unknown*",s.sequence=n,s.request=o,s.context=o.context,r.xml.parseAttributes(e,s),r.xml.parseChildren(e,s),r.queue.push(a.response,s)}else if("jxnrv"==e.nodeName)t=r._nodeToObject(e.firstChild);else if("debugmsg"!=e.nodeName)throw{code:10004,data:e.nodeName};++n,e=e.nextSibling}return t},jaxon.tools.queue={},jaxon.tools.queue.create=function(e){return{start:0,size:e,end:0,commands:[],timeout:null}},jaxon.tools.queue.retry=function(e,n){var t=e.retries;if(t){if(--t,1>t)return!1}else t=n;return e.retries=t,!0},jaxon.tools.queue.rewind=function(e){0<e.start?--e.start:e.start=e.size},jaxon.tools.queue.setWakeup=function(e,n){null!=e.timeout&&(clearTimeout(e.timeout),e.timeout=null),e.timout=setTimeout(function(){jaxon.tools.queue.process(e)},n)},jaxon.tools.queue.process=function(e){null!=e.timeout&&(clearTimeout(e.timeout),e.timeout=null);for(var n=jaxon.tools.queue.pop(e);null!=n;){try{if(0==jaxon.executeCommand(n))return!1}catch(t){console.log(t)}delete n,n=jaxon.tools.queue.pop(e)}return!0},jaxon.tools.queue.push=function(e,n){var t=e.end+1;if(t>e.size&&(t=0),t==e.start)throw{code:10003};e.commands[e.end]=n,e.end=t},jaxon.tools.queue.pushFront=function(e,n){jaxon.tools.queue.rewind(e),e.commands[e.start]=n},jaxon.tools.queue.pop=function(e){var n=e.start;if(n==e.end)return null;n++,n>e.size&&(n=0);var t=e.commands[e.start];return delete e.commands[e.start],e.start=n,t},jaxon.responseProcessor={},jaxon.tools.json={},jaxon.tools.json.processFragment=function(e,n,t,o){var r=jaxon,s=r.tools;for(nodeName in e)if("jxnobj"==nodeName){for(a in e[nodeName])if(parseInt(a)==a){var l=e[nodeName][a];l.fullName="*unknown*",l.sequence=n,l.request=o,l.context=o.context,s.queue.push(r.response,l),++n}}else if("jxnrv"==nodeName)t=e[nodeName];else{if("debugmsg"!=nodeName)throw{code:10004,data:l.fullName};txt=e[nodeName]}return t},jaxon.responseProcessor.json=function(oRequest){var xx=jaxon,xt=xx.tools,xcb=xx.callback,gcb=xcb.global,lcb=oRequest.callback,oRet=oRequest.returnValue;if(xt.in_array(xx.responseSuccessCodes,oRequest.request.status)){xcb.execute([gcb,lcb],"onSuccess",oRequest);var seq=0;if(oRequest.request.responseText){try{var responseJSON=eval("("+oRequest.request.responseText+")")}catch(ex){throw ex}"object"==typeof responseJSON&&"object"==typeof responseJSON.jxnobj&&(oRequest.status.onProcessing(),oRet=xt.json.processFragment(responseJSON,seq,oRet,oRequest))}var obj={};obj.fullName="Response Complete",obj.sequence=seq,obj.request=oRequest,obj.context=oRequest.context,obj.cmd="rcmplt",xt.queue.push(xx.response,obj),null==xx.response.timeout&&xt.queue.process(xx.response)}else xt.in_array(xx.responseRedirectCodes,oRequest.request.status)?(xcb.execute([gcb,lcb],"onRedirect",oRequest),window.location=oRequest.request.getResponseHeader("location"),xx.completeResponse(oRequest)):xt.in_array(xx.responseErrorsForAlert,oRequest.request.status)&&(xcb.execute([gcb,lcb],"onFailure",oRequest),xx.completeResponse(oRequest));return oRet},jaxon.responseProcessor.xml=function(e){var n=jaxon,t=n.tools,o=n.callback,a=o.global,r=e.callback,s=e.returnValue;if(t.in_array(n.responseSuccessCodes,e.request.status)){o.execute([a,r],"onSuccess",e);var l=0;if(e.request.responseXML){var u=e.request.responseXML;if(u.documentElement){e.status.onProcessing();var i=u.documentElement.firstChild;s=t.xml.processFragment(i,l,s,e)}}var c={};c.fullName="Response Complete",c.sequence=l,c.request=e,c.context=e.context,c.cmd="rcmplt",t.queue.push(n.response,c),null==n.response.timeout&&t.queue.process(n.response)}else t.in_array(n.responseRedirectCodes,e.request.status)?(o.execute([a,r],"onRedirect",e),window.location=e.request.getResponseHeader("location"),n.completeResponse(e)):t.in_array(n.responseErrorsForAlert,e.request.status)&&(o.execute([a,r],"onFailure",e),n.completeResponse(e));return s},jaxon.js={},jaxon.js.includeScriptOnce=function(e){e.fullName="includeScriptOnce";for(var n=e.data,t=jaxon.config.baseDocument,o=t.getElementsByTagName("script"),a=o.length,r=0;a>r;++r){var s=o[r];if(s.src&&0<=s.src.indexOf(n))return!0}return jaxon.js.includeScript(e)},jaxon.js.includeScript=function(e){e.fullName="includeScript";var n=jaxon.config.baseDocument,t=n.getElementsByTagName("head"),o=n.createElement("script");return o.src=e.data,"undefined"==typeof e.type?o.type="text/javascript":o.type=e.type,"undefined"!=typeof e.type&&o.setAttribute("id",e.elm_id),t[0].appendChild(o),!0},jaxon.js.removeScript=function(e){e.fullName="removeScript";for(var n=e.data,t=e.unld,o=jaxon.config.baseDocument,a=o.getElementsByTagName("script"),r=a.length,s=0;r>s;++s){var l=a[s];if(l.src&&0<=l.src.indexOf(n)){if("undefined"!=typeof t){var u={};u.data=t,u.context=window,jaxon.js.execute(u)}var i=l.parentNode;i.removeChild(l)}}return!0},jaxon.js.sleep=function(e){return e.fullName="sleep",jaxon.tools.queue.retry(e,e.prop)?(jaxon.tools.queue.setWakeup(jaxon.response,100),!1):!0},jaxon.js.confirmCommands=function(e){e.fullName="confirmCommands";var n=e.data,t=e.id;if(0==confirm(n))for(;t>0;)jaxon.tools.queue.pop(jaxon.response),--t;return!0},jaxon.js.execute=function(args){args.fullName="execute Javascript";var returnValue=!0;return args.context=args.context?args.context:{},args.context.jaxonDelegateCall=function(){eval(args.data)},args.context.jaxonDelegateCall(),returnValue},jaxon.js.waitFor=function(args){args.fullName="waitFor";var bResult=!1,cmdToEval="bResult = (";cmdToEval+=args.data,cmdToEval+=");";try{args.context.jaxonDelegateCall=function(){eval(cmdToEval)},args.context.jaxonDelegateCall()}catch(e){}return 0==bResult&&jaxon.tools.queue.retry(args,args.prop)?(jaxon.tools.queue.setWakeup(jaxon.response,100),!1):!0},jaxon.js.call=function(args){args.fullName="call js function";var parameters=args.data,scr=new Array;if(scr.push(args.func),scr.push("("),"undefined"!=typeof parameters&&"object"==typeof parameters){var iLen=parameters.length;if(iLen>0){scr.push("parameters[0]");for(var i=1;iLen>i;++i)scr.push(", parameters["+i+"]")}}return scr.push(");"),args.context.jaxonDelegateCall=function(){eval(scr.join(""))},args.context.jaxonDelegateCall(),!0},jaxon.js.setFunction=function(args){args.fullName="setFunction";var code=new Array;if(code.push(args.func),code.push(" = function("),"object"==typeof args.prop){var separator="";for(var m in args.prop)code.push(separator),code.push(args.prop[m]),separator=","}else code.push(args.prop);return code.push(") { "),code.push(args.data),code.push(" }"),args.context.jaxonDelegateCall=function(){eval(code.join(""))},args.context.jaxonDelegateCall(),!0},jaxon.js.wrapFunction=function(args){args.fullName="wrapFunction";var code=new Array;return code.push(args.func),code.push(" = jaxon.js.makeWrapper("),code.push(args.func),code.push(", args.prop, args.data, args.type, args.context);"),args.context.jaxonDelegateCall=function(){eval(code.join(""))},args.context.jaxonDelegateCall(),!0},jaxon.js.makeWrapper=function(origFun,args,codeBlocks,returnVariable,context){var originalCall="";0<returnVariable.length&&(originalCall+=returnVariable,originalCall+=" = ");var originalCall="origFun(";originalCall+=args,originalCall+="); ";var code="wrapper = function(";code+=args,code+=") { ",0<returnVariable.length&&(code+=" var ",code+=returnVariable,code+=" = null;");for(var separator="",bLen=codeBlocks.length,b=0;bLen>b;++b)code+=separator,code+=codeBlocks[b],separator=originalCall;0<returnVariable.length&&(code+=" return ",code+=returnVariable,code+=";"),code+=" } ";var wrapper=null;return context.jaxonDelegateCall=function(){eval(code)},context.jaxonDelegateCall(),wrapper},jaxon.dom={},jaxon.dom.assign=function(element,property,data){switch("string"==typeof element&&(element=jaxon.$(element)),property){case"innerHTML":element.innerHTML=data;break;case"outerHTML":if("undefined"==typeof element.outerHTML){var r=jaxon.config.baseDocument.createRange();r.setStartBefore(element);var df=r.createContextualFragment(data);element.parentNode.replaceChild(df,element)}else element.outerHTML=data;break;default:jaxon.tools.willChange(element,property,data)&&eval("element."+property+" = data;")}return!0},jaxon.dom.append=function(element,property,data){return"string"==typeof element&&(element=jaxon.$(element)),eval("element."+property+" += data;"),!0},jaxon.dom.prepend=function(element,property,data){return"string"==typeof element&&(element=jaxon.$(element)),eval("element."+property+" = data + element."+property),!0},jaxon.dom.replace=function(element,sAttribute,aData){var sSearch=aData.s,sReplace=aData.r;"innerHTML"==sAttribute&&(sSearch=jaxon.tools.getBrowserHTML(sSearch)),"string"==typeof element&&(element=jaxon.$(element)),eval("var txt = element."+sAttribute);var bFunction=!1;"function"==typeof txt&&(txt=txt.join(""),bFunction=!0);var start=txt.indexOf(sSearch);if(start>-1){for(var newTxt=[];start>-1;){var end=start+sSearch.length;newTxt.push(txt.substr(0,start)),newTxt.push(sReplace),txt=txt.substr(end,txt.length-end),start=txt.indexOf(sSearch)}newTxt.push(txt),newTxt=newTxt.join(""),bFunction?eval("element."+sAttribute+"=newTxt;"):jaxon.tools.willChange(element,sAttribute,newTxt)&&eval("element."+sAttribute+"=newTxt;")}return!0},jaxon.dom.remove=function(e){return"string"==typeof e&&(e=jaxon.$(e)),e&&e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e),!0},jaxon.dom.create=function(e,n,t){"string"==typeof e&&(e=jaxon.$(e));var o=jaxon.config.baseDocument.createElement(n);return o.setAttribute("id",t),e&&e.appendChild(o),!0},jaxon.dom.insert=function(e,n,t){"string"==typeof e&&(e=jaxon.$(e));var o=jaxon.config.baseDocument.createElement(n);return o.setAttribute("id",t),e.parentNode.insertBefore(o,e),!0},jaxon.dom.insertAfter=function(e,n,t){"string"==typeof e&&(e=jaxon.$(e));var o=jaxon.config.baseDocument.createElement(n);return o.setAttribute("id",t),e.parentNode.insertBefore(o,e.nextSibling),!0},jaxon.dom.contextAssign=function(args){args.fullName="context assign";var code=[];return code.push("this."),code.push(args.prop),code.push(" = data;"),code=code.join(""),args.context.jaxonDelegateCall=function(data){eval(code)},args.context.jaxonDelegateCall(args.data),!0},jaxon.dom.contextAppend=function(args){args.fullName="context append";var code=[];return code.push("this."),code.push(args.prop),code.push(" += data;"),code=code.join(""),args.context.jaxonDelegateCall=function(data){eval(code)},args.context.jaxonDelegateCall(args.data),!0},jaxon.dom.contextPrepend=function(args){args.fullName="context prepend";var code=[];return code.push("this."),code.push(args.prop),code.push(" = data + this."),code.push(args.prop),code.push(";"),code=code.join(""),args.context.jaxonDelegateCall=function(data){eval(code)},args.context.jaxonDelegateCall(args.data),!0},jaxon.domResponse={},jaxon.domResponse.startResponse=function(e){jxnElm=[]},jaxon.domResponse.createElement=function(args){eval([args.tgt," = document.createElement(args.data)"].join(""))},jaxon.domResponse.setAttribute=function(args){args.context.jaxonDelegateCall=function(){eval([args.tgt,".setAttribute(args.key, args.data)"].join(""))},args.context.jaxonDelegateCall()},jaxon.domResponse.appendChild=function(args){args.context.jaxonDelegateCall=function(){eval([args.par,".appendChild(",args.data,")"].join(""))},args.context.jaxonDelegateCall()},jaxon.domResponse.insertBefore=function(args){args.context.jaxonDelegateCall=function(){eval([args.tgt,".parentNode.insertBefore(",args.data,", ",args.tgt,")"].join(""))},args.context.jaxonDelegateCall()},jaxon.domResponse.insertAfter=function(args){args.context.jaxonDelegateCall=function(){eval([args.tgt,"parentNode.insertBefore(",args.data,", ",args.tgt,".nextSibling)"].join(""))},args.context.jaxonDelegateCall()},jaxon.domResponse.appendText=function(args){args.context.jaxonDelegateCall=function(){eval([args.par,".appendChild(document.createTextNode(args.data))"].join(""))},args.context.jaxonDelegateCall()},jaxon.domResponse.removeChildren=function(args){var skip=args.skip||0,remove=args.remove||-1,element=null;args.context.jaxonDelegateCall=function(){eval(["element = ",args.data].join(""))},args.context.jaxonDelegateCall();var children=element.childNodes;for(var i in children)0==isNaN(i)&&1==children[i].nodeType&&(skip>0?skip-=1:0!=remove&&(remove>0&&(remove-=1),element.removeChild(children[i])))},jaxon.domResponse.endResponse=function(e){jxnElm=[]},jaxon.css={},jaxon.css.add=function(e,n){for(var t=jaxon.config.baseDocument,o=t.getElementsByTagName("head"),a=o[0],r=a.getElementsByTagName("link"),s=!1,l=r.length,u=0;l>u&&0==s;++u)0<=r[u].href.indexOf(e)&&r[u].media==n&&(s=!0);if(0==s){var i=t.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=e,i.media=n,a.appendChild(i)}return!0},jaxon.css.remove=function(e,n){for(var t=jaxon.config.baseDocument,o=t.getElementsByTagName("head"),a=o[0],r=a.getElementsByTagName("link"),s=0;s<r.length;)0<=r[s].href.indexOf(e)&&r[s].media==n?a.removeChild(r[s]):++s;return!0},jaxon.css.waitForCSS=function(e){for(var n=jaxon.config.baseDocument.styleSheets,t=[],o=n.length,a=0;o>a;++a){t[a]=0;try{t[a]=n[a].cssRules.length}catch(r){try{t[a]=n[a].rules.length}catch(r){}}}for(var s=!0,o=t.length,a=0;o>a;++a)0==t[a]&&(s=!1);return 0==s&&jaxon.tools.queue.retry(e,e.prop)?(jaxon.tools.queue.setWakeup(jaxon.response,10),!1):!0},jaxon.forms={},jaxon.forms.getInput=function(e,n,t){return"undefined"==typeof window.addEventListener?jaxon.forms.getInput=function(e,n,t){return jaxon.config.baseDocument.createElement('<input type="'+e+'" name="'+n+'" id="'+t+'">')}:jaxon.forms.getInput=function(e,n,t){var o=jaxon.config.baseDocument,a=o.createElement("input");return a.setAttribute("type",e),a.setAttribute("name",n),a.setAttribute("id",t),a},jaxon.forms.getInput(e,n,t)},jaxon.forms.createInput=function(e){e.fullName="createInput";var n=e.id,t=e.type,o=e.data,a=e.prop;"string"==typeof n&&(n=jaxon.$(n));var r=jaxon.forms.getInput(t,o,a);return n&&r&&n.appendChild(r),!0},jaxon.forms.insertInput=function(e){e.fullName="insertInput";var n=e.id,t=e.type,o=e.data,a=e.prop;"string"==typeof n&&(n=jaxon.$(n));var r=jaxon.forms.getInput(t,o,a);return r&&n&&n.parentNode&&n.parentNode.insertBefore(r,n),!0},jaxon.forms.insertInputAfter=function(e){e.fullName="insertInputAfter";var n=e.id,t=e.type,o=e.data,a=e.prop;"string"==typeof n&&(n=jaxon.$(n));var r=jaxon.forms.getInput(t,o,a);return r&&n&&n.parentNode&&n.parentNode.insertBefore(r,n.nextSibling),!0},jaxon.events={},jaxon.events.setEvent=function(command){command.fullName="setEvent";var element=command.id,sEvent=command.prop,code=command.data;return element=jaxon.$(element),sEvent=jaxon.tools.addOnPrefix(sEvent),code=jaxon.tools.doubleQuotes(code),eval("element."+sEvent+" = function(e) { "+code+"; }"),!0},jaxon.events.addHandler=function(element,sEvent,fun){return window.addEventListener?jaxon.events.addHandler=function(command){command.fullName="addHandler";var element=command.id,sEvent=command.prop,fun=command.data;return"string"==typeof element&&(element=jaxon.$(element)),sEvent=jaxon.tools.stripOnPrefix(sEvent),eval('element.addEventListener("'+sEvent+'", '+fun+", false);"),!0}:jaxon.events.addHandler=function(command){command.fullName="addHandler";var element=command.id,sEvent=command.prop,fun=command.data;return"string"==typeof element&&(element=jaxon.$(element)),sEvent=jaxon.tools.addOnPrefix(sEvent),eval('element.attachEvent("'+sEvent+'", '+fun+", false);"),!0},jaxon.events.addHandler(element,sEvent,fun)},jaxon.events.removeHandler=function(element,sEvent,fun){return window.removeEventListener?jaxon.events.removeHandler=function(command){command.fullName="removeHandler";var element=command.id,sEvent=command.prop,fun=command.data;return"string"==typeof element&&(element=jaxon.$(element)),sEvent=jaxon.tools.stripOnPrefix(sEvent),eval('element.removeEventListener("'+sEvent+'", '+fun+", false);"),!0}:jaxon.events.removeHandler=function(command){command.fullName="removeHandler";var element=command.id,sEvent=command.prop,fun=command.data;return"string"==typeof element&&(element=jaxon.$(element)),sEvent=jaxon.tools.addOnPrefix(sEvent),eval('element.detachEvent("'+sEvent+'", '+fun+", false);"),!0},jaxon.events.removeHandler(element,sEvent,fun)},jaxon.callback={},jaxon.callback.create=function(){var e=jaxon,n=e.config,t=e.callback,o={};return o.timers={},o.timers.onResponseDelay=t.setupTimer(arguments.length>0?arguments[0]:n.defaultResponseDelayTime),o.timers.onExpiration=t.setupTimer(arguments.length>1?arguments[1]:n.defaultExpirationTime),o.onRequest=null,o.onResponseDelay=null,o.onExpiration=null,o.beforeResponseProcessing=null,o.onFailure=null,o.onRedirect=null,o.onSuccess=null,o.onComplete=null,o},jaxon.callback.setupTimer=function(e){return{timer:null,delay:e}},jaxon.callback.clearTimer=function(e,n){if("undefined"!=typeof e.timers)"undefined"!=typeof e.timers[n]&&clearTimeout(e.timers[n].timer);else if("object"==typeof e)for(var t=e.length,o=0;t>o;++o)jaxon.callback.clearTimer(e[o],n)},jaxon.callback.execute=function(e,n,t){if("undefined"!=typeof e[n]){var o=e[n];"function"==typeof o&&("undefined"!=typeof e.timers[n]?e.timers[n].timer=setTimeout(function(){o(t)},e.timers[n].delay):o(t))}else if("object"==typeof e)for(var a=e.length,r=0;a>r;++r)jaxon.callback.execute(e[r],n,t)},jaxon.callback.global=jaxon.callback.create(),jaxon.response=jaxon.tools.queue.create(jaxon.config.responseQueueSize),jaxon.responseSuccessCodes=["0","200"],jaxon.responseErrorsForAlert=["400","401","402","403","404","500","501","502","503"],jaxon.responseRedirectCodes=["301","302","307"],"undefined"==typeof jaxon.command&&(jaxon.command={}),jaxon.command.create=function(e,n,t){var o={};return o.cmd="*",o.fullName="* unknown command name *",o.sequence=e,o.request=n,o.context=t,o},"undefined"==typeof jaxon.command.handler&&(jaxon.command.handler={}),"undefined"==typeof jaxon.command.handler.handlers&&(jaxon.command.handler.handlers=[]),jaxon.command.handler.register=function(e,n){jaxon.command.handler.handlers[e]=n},jaxon.command.handler.unregister=function(e){var n=jaxon.command.handler.handlers[e];return delete jaxon.command.handler.handlers[e],n},jaxon.command.handler.isRegistered=function(e){var n=e.cmd;return jaxon.command.handler.handlers[n]?!0:!1},jaxon.command.handler.call=function(e){var n=e.cmd;return jaxon.command.handler.handlers[n](e)},jaxon.command.handler.register("rcmplt",function(e){return jaxon.completeResponse(e.request),!0}),jaxon.command.handler.register("css",function(e){return e.fullName="includeCSS","undefined"==typeof e.media&&(e.media="screen"),jaxon.css.add(e.data,e.media)}),jaxon.command.handler.register("rcss",function(e){return e.fullName="removeCSS","undefined"==typeof e.media&&(e.media="screen"),jaxon.css.remove(e.data,e.media)}),jaxon.command.handler.register("wcss",function(e){return e.fullName="waitForCSS",jaxon.css.waitForCSS(e)}),jaxon.command.handler.register("as",function(e){e.fullName="assign/clear";try{return jaxon.dom.assign(e.target,e.prop,e.data)}catch(n){}return!0}),jaxon.command.handler.register("ap",function(e){return e.fullName="append",jaxon.dom.append(e.target,e.prop,e.data)}),jaxon.command.handler.register("pp",function(e){return e.fullName="prepend",jaxon.dom.prepend(e.target,e.prop,e.data)}),jaxon.command.handler.register("rp",function(e){return e.fullName="replace",jaxon.dom.replace(e.id,e.prop,e.data)}),jaxon.command.handler.register("rm",function(e){return e.fullName="remove",jaxon.dom.remove(e.id)}),jaxon.command.handler.register("ce",function(e){return e.fullName="create",jaxon.dom.create(e.id,e.data,e.prop)}),jaxon.command.handler.register("ie",function(e){return e.fullName="insert",jaxon.dom.insert(e.id,e.data,e.prop)}),jaxon.command.handler.register("ia",function(e){return e.fullName="insertAfter",jaxon.dom.insertAfter(e.id,e.data,e.prop)}),jaxon.command.handler.register("DSR",jaxon.domResponse.startResponse),jaxon.command.handler.register("DCE",jaxon.domResponse.createElement),jaxon.command.handler.register("DSA",jaxon.domResponse.setAttribute),jaxon.command.handler.register("DAC",jaxon.domResponse.appendChild),jaxon.command.handler.register("DIB",jaxon.domResponse.insertBefore),jaxon.command.handler.register("DIA",jaxon.domResponse.insertAfter),jaxon.command.handler.register("DAT",jaxon.domResponse.appendText),jaxon.command.handler.register("DRC",jaxon.domResponse.removeChildren),jaxon.command.handler.register("DER",jaxon.domResponse.endResponse),jaxon.command.handler.register("c:as",jaxon.dom.contextAssign),jaxon.command.handler.register("c:ap",jaxon.dom.contextAppend),jaxon.command.handler.register("c:pp",jaxon.dom.contextPrepend),jaxon.command.handler.register("s",jaxon.js.sleep),jaxon.command.handler.register("ino",jaxon.js.includeScriptOnce),jaxon.command.handler.register("in",jaxon.js.includeScript),jaxon.command.handler.register("rjs",jaxon.js.removeScript),jaxon.command.handler.register("wf",jaxon.js.waitFor),jaxon.command.handler.register("js",jaxon.js.execute),jaxon.command.handler.register("jc",jaxon.js.call),jaxon.command.handler.register("sf",jaxon.js.setFunction),jaxon.command.handler.register("wpf",jaxon.js.wrapFunction),jaxon.command.handler.register("al",function(e){return e.fullName="alert",alert(e.data),!0}),jaxon.command.handler.register("cc",jaxon.js.confirmCommands),jaxon.command.handler.register("ci",jaxon.forms.createInput),jaxon.command.handler.register("ii",jaxon.forms.insertInput),jaxon.command.handler.register("iia",jaxon.forms.insertInputAfter),jaxon.command.handler.register("ev",jaxon.events.setEvent),jaxon.command.handler.register("ah",jaxon.events.addHandler),jaxon.command.handler.register("rh",jaxon.events.removeHandler),jaxon.command.handler.register("dbg",function(e){return e.fullName="debug message",!0}),jaxon.initializeRequest=function(e){var n=jaxon,t=n.config;e.append=function(e,n){if("undefined"!=typeof this[e])for(var t in n)"undefined"==typeof this[e][t]&&(this[e][t]=n[t]);else this[e]=n},e.append("commonHeaders",t.commonHeaders),e.append("postHeaders",t.postHeaders),e.append("getHeaders",t.getHeaders),e.set=function(e,n){"undefined"==typeof this[e]&&(this[e]=n)},e.set("statusMessages",t.statusMessages),e.set("waitCursor",t.waitCursor),e.set("mode",t.defaultMode),e.set("method",t.defaultMethod),e.set("URI",t.requestURI),e.set("httpVersion",t.defaultHttpVersion),e.set("contentType",t.defaultContentType),e.set("retry",t.defaultRetry),e.set("returnValue",t.defaultReturnValue),e.set("maxObjectDepth",t.maxObjectDepth),e.set("maxObjectSize",t.maxObjectSize),e.set("context",window);var o=n.callback,a=(o.global,o.create());if(a.take=function(e,n){"undefined"!=typeof e[n]&&(a[n]=e[n],a.hasEvents=!0),delete e[n]},a.take(e,"onRequest"),a.take(e,"onResponseDelay"),a.take(e,"onExpiration"),a.take(e,"beforeResponseProcessing"),a.take(e,"onFailure"),a.take(e,"onRedirect"),a.take(e,"onSuccess"),a.take(e,"onComplete"),"undefined"!=typeof e.callback?a.hasEvents&&(e.callback=[e.callback,a]):e.callback=a,e.status=e.statusMessages?t.status.update():t.status.dontUpdate(),e.cursor=e.waitCursor?t.cursor.update():t.cursor.dontUpdate(),e.method=e.method.toUpperCase(),"GET"!=e.method&&(e.method="POST"),e.requestRetry=e.retry,e.append("postHeaders",{"content-type":e.contentType}),delete e.append,delete e.set,delete e.take,"undefined"==typeof e.URI)throw{code:10005}},jaxon.processParameters=function(e){var n=jaxon,t=(n.tools,[]),o="";for(var a in e.functionName)"constructor"!=a&&(t.push(o),t.push(a),t.push("="),t.push(encodeURIComponent(e.functionName[a])),o="&");var r=new Date;if(t.push("&jxnr="),t.push(r.getTime()),delete r,e.parameters)for(var s=0,l=e.parameters.length;l>s;){var u=e.parameters[s];if("object"==typeof u&&null!=u){try{u=JSON.stringify(u)}catch(i){u=""}t.push("&jxnargs[]="),u=encodeURIComponent(u),t.push(u),++s}else{if(t.push("&jxnargs[]="),"undefined"==typeof u||null==u)t.push("*");else{var c=typeof u;"string"==c?t.push("S"):"boolean"==c?t.push("B"):"number"==c&&t.push("N"),u=encodeURIComponent(u),t.push(u)}++s}}e.requestURI=e.URI,"GET"==e.method&&(e.requestURI+=-1==e.requestURI.indexOf("?")?"?":"&",e.requestURI+=t.join(""),t=[]),e.requestData=t.join("")},jaxon.prepareRequest=function(e){var n=jaxon,t=n.tools;e.request=t.getRequestObject(),e.setRequestHeaders=function(e){if("object"==typeof e)for(var n in e)this.request.setRequestHeader(n,e[n])},e.setCommonRequestHeaders=function(){this.setRequestHeaders(this.commonHeaders),this.challengeResponse&&this.request.setRequestHeader("challenge-response",this.challengeResponse)},e.setPostRequestHeaders=function(){this.setRequestHeaders(this.postHeaders)},e.setGetRequestHeaders=function(){this.setRequestHeaders(this.getHeaders)},"asynchronous"==e.mode?(e.request.onreadystatechange=function(){4==e.request.readyState&&jaxon.responseReceived(e)},e.finishRequest=function(){return this.returnValue}):e.finishRequest=function(){return jaxon.responseReceived(e)},"undefined"!=typeof e.userName&&"undefined"!=typeof e.password?e.open=function(){this.request.open(this.method,this.requestURI,"asynchronous"==this.mode,e.userName,e.password)}:e.open=function(){this.request.open(this.method,this.requestURI,"asynchronous"==this.mode)},"POST"==e.method?e.applyRequestHeaders=function(){this.setCommonRequestHeaders();try{this.setPostRequestHeaders()}catch(e){throw this.method="GET",this.requestURI+=-1==this.requestURI.indexOf("?")?"?":"&",this.requestURI+=this.requestData,this.requestData="",0==this.requestRetry&&(this.requestRetry=1),e}}:e.applyRequestHeaders=function(){this.setCommonRequestHeaders(),this.setGetRequestHeaders();
}},jaxon.request=function(){var e=arguments.length;if(0==e)return!1;var n={};e>1&&(n=arguments[1]),n.functionName=arguments[0];var t=jaxon;for(t.initializeRequest(n),t.processParameters(n);0<n.requestRetry;)try{return--n.requestRetry,t.prepareRequest(n),t.submitRequest(n)}catch(o){if(jaxon.callback.execute([jaxon.callback.global,n.callback],"onFailure",n),0==n.requestRetry)throw o}},jaxon.submitRequest=function(e){e.status.onRequest();var n=jaxon.callback,t=n.global,o=e.callback;return n.execute([t,o],"onResponseDelay",e),n.execute([t,o],"onExpiration",e),n.execute([t,o],"onRequest",e),e.open(),e.applyRequestHeaders(),e.cursor.onWaiting(),e.status.onWaiting(),jaxon._internalSend(e),e.finishRequest()},jaxon._internalSend=function(e){e.request.send(e.requestData)},jaxon.abortRequest=function(e){e.aborted=!0,e.request.abort(),jaxon.completeResponse(e)},jaxon.responseReceived=function(e){var n=jaxon,t=n.callback,o=t.global,a=e.callback;if(!e.aborted){t.clearTimer([o,a],"onExpiration"),t.clearTimer([o,a],"onResponseDelay"),t.execute([o,a],"beforeResponseProcessing",e);var r=e.request.getResponseHeader("challenge");if(r)return e.challengeResponse=r,n.prepareRequest(e),n.submitRequest(e);var s=n.getResponseProcessor(e);return"undefined"==typeof s?(t.execute([o,a],"onFailure",e),void n.completeResponse(e)):s(e)}},jaxon.getResponseProcessor=function(e){var n;if("undefined"==typeof e.responseProcessor){var t=e.request.getResponseHeader("content-type");t&&(0<=t.indexOf("text/xml")?n=jaxon.responseProcessor.xml:0<=t.indexOf("application/json")&&(n=jaxon.responseProcessor.json))}else n=e.responseProcessor;return n},jaxon.executeCommand=function(e){return jaxon.command.handler.isRegistered(e)&&(e.id&&(e.target=jaxon.$(e.id)),0==jaxon.command.handler.call(e))?(jaxon.tools.queue.pushFront(jaxon.response,e),!1):!0},jaxon.completeResponse=function(e){jaxon.callback.execute([jaxon.callback.global,e.callback],"onComplete",e),e.cursor.onComplete(),e.status.onComplete(),delete e.functionName,delete e.requestURI,delete e.requestData,delete e.requestRetry,delete e.request,delete e.set,delete e.open,delete e.setRequestHeaders,delete e.setCommonRequestHeaders,delete e.setPostRequestHeaders,delete e.setGetRequestHeaders,delete e.applyRequestHeaders,delete e.finishRequest,delete e.status,delete e.cursor,delete e.challengeResponse},jaxon.$=jaxon.tools.$,jaxon.getFormValues=jaxon.tools.getFormValues,jaxon.isLoaded=!0,jxn={},jxn.$=jaxon.tools.$,jxn.getFormValues=jaxon.tools.getFormValues,jxn.request=jaxon.request;